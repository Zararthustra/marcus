import "../styles/Toast.css";
import { useEffect } from "react";

const Toast = ({ type, message, setTriggerToast }) => {
  //___________________________________________________ Variables

  useEffect(() => {
    const timer = setTimeout(() => setTriggerToast(null), 6900);
    return () => clearTimeout(timer);
  }, [setTriggerToast]);

  //___________________________________________________ Functions

  const getIcon = (type) => {
    switch (type) {
      case "success":
        return (
          <svg
            width="45"
            height="45"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15.0001 1.66666C12.363 1.66666 9.78514 2.44864 7.59248 3.91373C5.39983 5.37881 3.69086 7.4612 2.68169 9.89754C1.67253 12.3339 1.40848 15.0148 1.92295 17.6012C2.43742 20.1876 3.7073 22.5634 5.572 24.4281C7.4367 26.2928 9.81247 27.5627 12.3989 28.0771C14.9853 28.5916 17.6662 28.3276 20.1025 27.3184C22.5389 26.3092 24.6213 24.6002 26.0863 22.4076C27.5514 20.2149 28.3334 17.6371 28.3334 15C28.3334 11.4638 26.9287 8.07238 24.4282 5.5719C21.9277 3.07141 18.5363 1.66666 15.0001 1.66666V1.66666ZM15.0001 26.6667C12.6926 26.6667 10.437 25.9824 8.51843 24.7005C6.59986 23.4185 5.10452 21.5964 4.22149 19.4646C3.33847 17.3328 3.10743 14.987 3.55759 12.7239C4.00775 10.4608 5.1189 8.38202 6.75051 6.75041C8.38212 5.1188 10.4609 4.00766 12.724 3.55749C14.9871 3.10733 17.3329 3.33837 19.4647 4.2214C21.5965 5.10442 23.4186 6.59976 24.7006 8.51834C25.9825 10.4369 26.6668 12.6925 26.6668 15C26.6668 18.0942 25.4376 21.0616 23.2497 23.2496C21.0617 25.4375 18.0943 26.6667 15.0001 26.6667Z"
              fill={"white"}
            />
            <path
              d="M23.3334 10.0833C23.1773 9.92812 22.9661 9.841 22.7459 9.841C22.5258 9.841 22.3146 9.92812 22.1584 10.0833L12.9084 19.2917L7.90844 14.2917C7.75594 14.127 7.54428 14.0297 7.32002 14.0211C7.09576 14.0125 6.87727 14.0933 6.71261 14.2458C6.54795 14.3983 6.45062 14.61 6.44203 14.8343C6.43343 15.0585 6.51428 15.277 6.66678 15.4417L12.9084 21.6667L23.3334 11.2667C23.4115 11.1892 23.4735 11.097 23.5159 10.9955C23.5582 10.8939 23.5799 10.785 23.5799 10.675C23.5799 10.565 23.5582 10.4561 23.5159 10.3545C23.4735 10.253 23.4115 10.1608 23.3334 10.0833Z"
              fill={"white"}
            />
          </svg>
        );

      case "info":
        return (
          <svg
            width="45"
            height="45"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15 28.125C11.519 28.125 8.18064 26.7422 5.71922 24.2808C3.25781 21.8194 1.875 18.481 1.875 15C1.875 11.519 3.25781 8.18064 5.71922 5.71922C8.18064 3.25781 11.519 1.875 15 1.875C18.481 1.875 21.8194 3.25781 24.2808 5.71922C26.7422 8.18064 28.125 11.519 28.125 15C28.125 18.481 26.7422 21.8194 24.2808 24.2808C21.8194 26.7422 18.481 28.125 15 28.125V28.125ZM15 3.75C12.0163 3.75 9.15483 4.93526 7.04505 7.04505C4.93526 9.15483 3.75 12.0163 3.75 15C3.75 17.9837 4.93526 20.8452 7.04505 22.955C9.15483 25.0647 12.0163 26.25 15 26.25C17.9837 26.25 20.8452 25.0647 22.955 22.955C25.0647 20.8452 26.25 17.9837 26.25 15C26.25 12.0163 25.0647 9.15483 22.955 7.04505C20.8452 4.93526 17.9837 3.75 15 3.75V3.75ZM13.5938 8.90625C13.5938 8.53329 13.7419 8.1756 14.0056 7.91188C14.2694 7.64816 14.627 7.5 15 7.5C15.373 7.5 15.7306 7.64816 15.9944 7.91188C16.2581 8.1756 16.4062 8.53329 16.4062 8.90625C16.4062 9.27921 16.2581 9.6369 15.9944 9.90062C15.7306 10.1643 15.373 10.3125 15 10.3125C14.627 10.3125 14.2694 10.1643 14.0056 9.90062C13.7419 9.6369 13.5938 9.27921 13.5938 8.90625ZM15 22.5C14.7514 22.5 14.5129 22.4012 14.3371 22.2254C14.1613 22.0496 14.0625 21.8111 14.0625 21.5625L14.0625 13.125C14.0625 12.8764 14.1613 12.6379 14.3371 12.4621C14.5129 12.2863 14.7514 12.1875 15 12.1875C15.2486 12.1875 15.4871 12.2863 15.6629 12.4621C15.8387 12.6379 15.9375 12.8764 15.9375 13.125L15.9375 21.5625C15.9375 21.8111 15.8387 22.0496 15.6629 22.2254C15.4871 22.4012 15.2486 22.5 15 22.5V22.5Z"
              fill={"white"}
            />
          </svg>
        );

      case "error":
        return (
          <svg
            width="45"
            height="45"
            viewBox="0 0 30 30"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M15 1.875C18.481 1.875 21.8194 3.25781 24.2808 5.71922C26.7422 8.18064 28.125 11.519 28.125 15C28.125 18.481 26.7422 21.8194 24.2808 24.2808C21.8194 26.7422 18.481 28.125 15 28.125C11.519 28.125 8.18064 26.7422 5.71922 24.2808C3.25781 21.8194 1.875 18.481 1.875 15C1.875 11.519 3.25781 8.18064 5.71922 5.71922C8.18064 3.25781 11.519 1.875 15 1.875V1.875ZM15 26.25C17.9837 26.25 20.8452 25.0647 22.955 22.955C25.0647 20.8452 26.25 17.9837 26.25 15C26.25 12.0163 25.0647 9.15483 22.955 7.04505C20.8452 4.93526 17.9837 3.75 15 3.75C12.0163 3.75 9.15483 4.93526 7.04505 7.04505C4.93526 9.15483 3.75 12.0163 3.75 15C3.75 17.9837 4.93526 20.8452 7.04505 22.955C9.15483 25.0647 12.0163 26.25 15 26.25V26.25ZM16.4062 21.0938C16.4062 21.4667 16.2581 21.8244 15.9944 22.0881C15.7306 22.3518 15.373 22.5 15 22.5C14.627 22.5 14.2694 22.3518 14.0056 22.0881C13.7419 21.8244 13.5938 21.4667 13.5938 21.0938C13.5938 20.7208 13.7419 20.3631 14.0056 20.0994C14.2694 19.8357 14.627 19.6875 15 19.6875C15.373 19.6875 15.7306 19.8357 15.9944 20.0994C16.2581 20.3631 16.4062 20.7208 16.4062 21.0938ZM15 7.5C15.2486 7.5 15.4871 7.59877 15.6629 7.77459C15.8387 7.9504 15.9375 8.18886 15.9375 8.4375V16.875C15.9375 17.1236 15.8387 17.3621 15.6629 17.5379C15.4871 17.7137 15.2486 17.8125 15 17.8125C14.7514 17.8125 14.5129 17.7137 14.3371 17.5379C14.1613 17.3621 14.0625 17.1236 14.0625 16.875V8.4375C14.0625 8.18886 14.1613 7.9504 14.3371 7.77459C14.5129 7.59877 14.7514 7.5 15 7.5V7.5Z"
              fill={"white"}
            />
          </svg>
        );

      default:
        break;
    }
  };

  //___________________________________________________ Render

  return (
    <div
      className="toast"
      onClick={() => setTriggerToast(false)}
      style={{
        position: "fixed",
        color: "white",
        zIndex: "5",
        height: "auto",
        width: "80%",
        maxWidth: "20rem",
        backdropFilter: "blur(5px)",
        WebkitBackdropFilter: "blur(5px)",
        background: "var(--gradient)",
        top: "2rem",
        borderRadius: "5px",
        padding: "0 1rem",
        margin: "0 1rem",
        display: "flex",
        alignItems: "center",
        boxShadow: "0 0 100px #ffffff48",
        gap: "1rem",
        cursor: "pointer",
      }}
    >
      <div
        style={{
          display: "flex",
          alignItems: "center",
          justifyContent: "center",
          height: "100%",
        }}
      >
        {getIcon(type)}
      </div>
      <div
        style={{
          fontWeight: "600",
          fontSize: "1.2rem",
          width: "100%",
          textAlign: "center",
          lineHeight: "25px",
        }}
      >
        <p>{message}</p>
      </div>
    </div>
  );
};

export default Toast;
